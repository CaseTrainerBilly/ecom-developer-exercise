(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{600:r=>{r.exports={carousel:"Carousel_carousel__N1X6i",carouselControls:"Carousel_carouselControls__13F7c",carouselBtn:"Carousel_carouselBtn__ZzMWF",carouselWrapper:"Carousel_carouselWrapper__BHpmT",carouselItems:"Carousel_carouselItems__Vk7Ht",transitioning:"Carousel_transitioning__epDV0",right:"Carousel_right__aWzK_",left:"Carousel_left__elzaA",carouselIndicators:"Carousel_carouselIndicators__brD3y",indicator:"Carousel_indicator__qB1u7",active:"Carousel_active__3WgPH"}},4925:(r,e,a)=>{Promise.resolve().then(a.bind(a,7708))},7708:(r,e,a)=>{"use strict";a.d(e,{default:()=>i});var t=a(5155),c=a(2115),o=a(8551),s=a.n(o);let l=r=>{let{product:e}=r,a="/ecom-developer-exercise",[o,...l]=e.productTitle.split(" - "),n=l.length>0?o:"Unbranded",d=l.length>0?l.join(" - "):e.productTitle,i="".concat(a,"/No-Image-Placeholder.svg.png"),[u,_]=(0,c.useState)(e.imageSrc&&e.imageSrc.trim()?e.imageSrc:i);return(0,t.jsx)("div",{className:s().productCard,children:(0,t.jsxs)("a",{href:e.productUrl,target:"_blank",rel:"noopener noreferrer",className:s().productCardLink,children:[(0,t.jsx)("img",{src:u,alt:e.productTitle,className:s().productCardImage,onError:()=>_(i)}),(0,t.jsxs)("div",{className:s().productCardDetails,children:[(0,t.jsx)("div",{className:s().productBrand,children:n}),(0,t.jsx)("div",{className:s().productName,children:d}),(0,t.jsx)("p",{className:e.price?s().productPrice:s().productPriceUnavailable,children:e.price?"\xa3".concat(e.price):"Price unavailable"})]}),(0,t.jsx)("div",{className:s().shopNowWrapper,children:(0,t.jsxs)("span",{className:s().shopNow,children:[(0,t.jsx)("img",{src:"".concat(a,"/cart-3-svgrepo-com.svg"),alt:"Cart",className:s().cartIcon}),"SHOP NOW"]})})]})})};var n=a(600),d=a.n(n);let i=r=>{let{products:e,title:a}=r,[o,s]=(0,c.useState)(0),[n,i]=(0,c.useState)(3),[u,_]=(0,c.useState)(!1),[p,h]=(0,c.useState)(""),m=(0,c.useRef)(0),C=(0,c.useRef)(0);(0,c.useEffect)(()=>{let r=()=>{i(window.innerWidth<=700?1:window.innerWidth<=900?2:3),s(0)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);let g=Math.ceil(e.length/n),N=Math.max(0,e.length-n),v=Math.floor(o/n);o>=N&&N>0&&(v=g-1);let x=e.slice(o,o+n),P=o>0,j=o+n<e.length,f=(r,e)=>{u||(_(!0),h(e),setTimeout(()=>{s(r)},50),setTimeout(()=>{_(!1),h("")},350))};if(!e||0===e.length)return null;let w="/ecom-developer-exercise";return(0,t.jsxs)("section",{className:d().carousel,children:[a&&(0,t.jsx)("h2",{children:a}),(0,t.jsxs)("div",{className:d().carouselControls,children:[(0,t.jsx)("button",{onClick:()=>f(Math.max(0,o-n),"left"),disabled:!P,"aria-label":"Previous products",className:d().carouselBtn,children:(0,t.jsx)("img",{src:"".concat(w,"/left-arrow-svgrepo-com.svg"),alt:"Previous"})}),(0,t.jsx)("div",{className:d().carouselWrapper,children:(0,t.jsx)("div",{className:"".concat(d().carouselItems," ").concat(u?d().transitioning:""," ").concat(p?d()[p]:""),onTouchStart:r=>{m.current=r.touches[0].clientX},onTouchMove:r=>{C.current=r.touches[0].clientX},onTouchEnd:()=>{if(!m.current||!C.current||u)return;let r=m.current-C.current;r>50&&j&&j&&!u&&f(Math.min(e.length-n,o+n),"right"),r<-50&&P&&P&&!u&&f(Math.max(0,o-n),"left"),m.current=0,C.current=0},children:x.map((r,e)=>(0,t.jsx)(l,{product:r},"".concat(r.productUrl,"-").concat(o+e)))})}),(0,t.jsx)("button",{onClick:()=>f(Math.min(N,o+n),"right"),disabled:!j,"aria-label":"Next products",className:d().carouselBtn,children:(0,t.jsx)("img",{src:"".concat(w,"/right-arrow-svgrepo-com.svg"),alt:"Next"})})]}),g>1&&(0,t.jsx)("div",{className:d().carouselIndicators,children:Array.from({length:g},(r,a)=>(0,t.jsx)("button",{className:"".concat(d().indicator," ").concat(a===v?d().active:""),onClick:()=>(r=>{if(u)return;let a=r*n;r===g-1&&(a=Math.max(0,e.length-n));let t=a>o?"right":"left";f(a,t)})(a),"aria-label":"Go to page ".concat(a+1," of ").concat(g),disabled:u},a))})]})}},8551:r=>{r.exports={productCard:"ProductCard_productCard__X_stK",productCardLink:"ProductCard_productCardLink__uEphd",productCardImage:"ProductCard_productCardImage__xK1_q",productCardDetails:"ProductCard_productCardDetails__lcsOZ",productBrand:"ProductCard_productBrand__ukdow",productName:"ProductCard_productName__ARPA4",productPrice:"ProductCard_productPrice__YlVYc",productPriceUnavailable:"ProductCard_productPriceUnavailable__8_LPI",shopNowWrapper:"ProductCard_shopNowWrapper__1JI6s",shopNow:"ProductCard_shopNow__QiNvU",cartIcon:"ProductCard_cartIcon__m2Mww",productCardSkeleton:"ProductCard_productCardSkeleton__V49SX",shimmer:"ProductCard_shimmer__UGMlr"}}},r=>{r.O(0,[422,441,964,358],()=>r(r.s=4925)),_N_E=r.O()}]);